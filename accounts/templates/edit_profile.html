{% extends "base.html" %}

{% block body %}
<main class="mt-5">
    <div class="container mynav">

        <div class="container mt-5">
            <div class="row">
                <div class="col-md-4">
                    <div class="card">
                        <img id="userImage" src="path/to/user-image.jpg" class="card-img-top" style="width: 100%;"
                            alt="User Image">
                        <div class="card-body">
                            <h5 class="card-title">Edit Profile</h5>
                            <form id="editProfileForm">
                                <div class="mb-3">
                                    <label for="name" class="form-label">Name</label>
                                    <input type="text" class="form-control" id="name" name="name"
                                        placeholder="Enter your name" required>
                                </div>
                                <div class="mb-3">
                                    <label for="email" class="form-label">Email address</label>
                                    <input type="email" class="form-control" id="email" name="email"
                                        placeholder="Enter your email" required>
                                </div>
                                <div class="mb-3">
                                    <label for="imageInput" class="form-label">Profile Image</label>
                                    <input type="file" class="form-control" id="imageInput" name="imageInput"
                                        accept="image/*" onchange="previewImage(this)">

                                </div>
                                <button type="submit" class="btn btn-primary">Save Changes</button>

                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

        <script>
            function previewImage(input) {
                const file = input.files[0];

                if (file) {
                    const reader = new FileReader();

                    reader.onload = function (e) {
                        const imageElement = document.getElementById('userImage');
                        imageElement.src = e.target.result;
                    };

                    reader.readAsDataURL(file);
                }
            }

            document.getElementById('editProfileForm').addEventListener('submit', function (event) {
                event.preventDefault();
                // Add code to handle form submission and update user profile
                const name = document.getElementById('name').value;
                const email = document.getElementById('email').value;
                const imageInput = document.getElementById('imageInput');
                const selectedImage = imageInput.files[0];

                // Add your logic to handle the form data and update the user profile
                // For example, you can use AJAX to send the data to the server

                console.log('Name:', name);
                console.log('Email:', email);
                console.log('Selected Image:', selectedImage);
            });
        </script>

        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    </div>
</main>
{% endblock body %}